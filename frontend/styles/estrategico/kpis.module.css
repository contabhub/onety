/* KPIs Page Styles */

.pageContainer {
  padding: var(--onity-space-l);
  font-family: var(--onity-font-family-sans);
  background: var(--onity-color-bg);
  color: var(--onity-color-text);
}

.content {
  display: flex;
  flex-direction: column;
  gap: var(--onity-space-l);
}

.headerCard {
  background-color: var(--onity-color-surface);
  border-radius: var(--onity-radius-l);
  box-shadow: var(--onity-elev-low);
  border: 1px solid var(--onity-color-border);
  padding: var(--onity-space-l);
}

.headerContent {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  justify-content: space-between;
  gap: var(--onity-space-m);
}

.headerLeft {
  display: flex;
  align-items: center;
  gap: var(--onity-space-m);
}

.headerIcon {
  width: 2rem;
  height: 2rem;
  color: var(--onity-color-primary);
}

.headerTitle {
  font-size: var(--onity-type-h3-size);
  font-weight: var(--onity-font-weight-bold);
  color: var(--onity-color-text);
}

.headerActions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--onity-space-m);
}

.headerButton {
  padding: var(--onity-space-s) var(--onity-space-m);
  font-size: var(--onity-font-size-sm);
  font-weight: var(--onity-font-weight-medium);
  border-radius: var(--onity-radius-xs);
  transition: all var(--onity-transition-normal);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--onity-space-s);
  border: none;
  cursor: pointer;
}

.headerButtonSettings {
  background-color: var(--onity-text-med);
  color: var(--onity-color-primary-contrast);
}

.headerButtonSettings:hover {
  background-color: var(--onity-color-text);
}

.headerButtonPrimary {
  background-color: var(--onity-color-primary);
  color: var(--onity-color-primary-contrast);
}

.headerButtonPrimary:hover {
  background-color: var(--onity-color-primary-hover);
}

.headerButtonIcon {
  width: 1.25rem;
  height: 1.25rem;
}

.filtersCard {
  background-color: var(--onity-color-surface);
  border-radius: var(--onity-radius-m);
  box-shadow: var(--onity-elev-low);
  border: 1px solid var(--onity-color-border);
  padding: var(--onity-space-l);
}

.filtersTitle {
  font-size: var(--onity-font-size-lg);
  font-weight: var(--onity-font-weight-semibold);
  color: var(--onity-color-text);
  margin-bottom: var(--onity-space-m);
}

.filtersRow {
  display: flex;
  flex-wrap: wrap;
  gap: var(--onity-space-l);
  align-items: flex-end;
}

.filterGroup {
  display: flex;
  flex-direction: column;
}

.filterLabel {
  display: block;
  font-size: var(--onity-font-size-sm);
  font-weight: var(--onity-font-weight-medium);
  color: var(--onity-color-text);
  margin-bottom: var(--onity-space-s);
}

.chartsContainer {
  display: flex;
  flex-direction: column;
  gap: var(--onity-space-l);
}

.chartCard {
  background-color: var(--onity-color-surface);
  border-radius: var(--onity-radius-m);
  box-shadow: var(--onity-elev-low);
  border: 1px solid var(--onity-color-border);
  overflow: hidden;
}

.chartHeader {
  background-color: var(--onity-color-primary);
  padding: var(--onity-space-m) var(--onity-space-l);
}

.chartHeaderContent {
  display: flex;
  flex-direction: column;
  gap: var(--onity-space-m);
}

@media (min-width: 640px) {
  .chartHeaderContent {
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }
}

.chartTitle {
  font-size: var(--onity-type-h3-size);
  font-weight: var(--onity-font-weight-semibold);
  color: var(--onity-color-primary-contrast);
}

.chartLegend {
  display: flex;
  align-items: center;
  gap: var(--onity-space-s);
  flex-wrap: wrap;
}

.chartLegendItem {
  display: flex;
  align-items: center;
  gap: var(--onity-space-s);
}

.chartLegendDot {
  width: 0.75rem;
  height: 0.75rem;
  border-radius: 50%;
}

.chartLegendDotBlue {
  background-color: var(--onity-color-info);
}

.chartLegendDotGreen {
  background-color: var(--onity-color-success);
}

.chartLegendText {
  font-size: var(--onity-font-size-sm);
  color: var(--onity-color-primary-contrast);
}

.chartLegendSpacer {
  margin-left: var(--onity-space-m);
}

.chartBody {
  padding: var(--onity-space-l);
}

.chartActions {
  margin-top: var(--onity-space-l);
  padding-top: var(--onity-space-m);
  border-top: 1px solid var(--onity-color-border);
}

.chartActionsHeader {
  display: flex;
  flex-direction: column;
  gap: var(--onity-space-m);
  margin-bottom: var(--onity-space-m);
}

@media (min-width: 768px) {
  .chartActionsHeader {
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }
}

.chartActionsTitle {
  font-size: var(--onity-font-size-sm);
  font-weight: var(--onity-font-weight-medium);
  color: var(--onity-color-text);
}

.chartDepartmentInfo {
  display: flex;
  align-items: center;
  gap: var(--onity-space-m);
}

.chartDepartmentLabel {
  font-size: var(--onity-font-size-sm);
  font-weight: var(--onity-font-weight-medium);
  color: var(--onity-color-text);
}

.chartDepartmentBadge {
  display: inline-flex;
  align-items: center;
  gap: var(--onity-space-s);
  padding: calc(var(--onity-space-s) - var(--onity-space-xs)) var(--onity-space-m);
  font-size: var(--onity-font-size-sm);
  background-color: color-mix(in oklab, var(--onity-color-info) 15%, var(--onity-color-surface));
  color: var(--onity-color-info);
  border-radius: var(--onity-radius-xs);
  font-weight: var(--onity-font-weight-medium);
}

.chartDepartmentBadgeIcon {
  width: var(--onity-space-m);
  height: var(--onity-space-m);
}

.chartDepartmentButton {
  display: inline-flex;
  align-items: center;
  gap: var(--onity-space-xs);
  padding: calc(var(--onity-space-s) - var(--onity-space-xs)) var(--onity-space-m);
  font-size: var(--onity-font-size-sm);
  border-radius: var(--onity-radius-xs);
  font-weight: var(--onity-font-weight-medium);
  transition: background-color var(--onity-transition-fast);
  border: none;
  cursor: pointer;
}

.chartDepartmentButtonUnlink {
  background-color: color-mix(in oklab, var(--onity-color-error) 15%, var(--onity-color-surface));
  color: var(--onity-color-error);
}

.chartDepartmentButtonUnlink:hover {
  background-color: color-mix(in oklab, var(--onity-color-error) 25%, var(--onity-color-surface));
}

.chartDepartmentButtonLink {
  background-color: color-mix(in oklab, var(--onity-color-warning) 15%, var(--onity-color-surface));
  color: var(--onity-color-warning);
}

.chartDepartmentButtonLink:hover {
  background-color: color-mix(in oklab, var(--onity-color-warning) 25%, var(--onity-color-surface));
}

.chartDepartmentButtonIcon {
  width: 0.875rem;
  height: 0.875rem;
}

.chartDepartmentBadgeWarning {
  padding: calc(var(--onity-space-s) - var(--onity-space-xs)) var(--onity-space-m);
  font-size: var(--onity-font-size-sm);
  background-color: color-mix(in oklab, var(--onity-color-warning) 15%, var(--onity-color-surface));
  color: var(--onity-color-warning);
  border-radius: var(--onity-radius-xs);
  font-weight: var(--onity-font-weight-medium);
}

.chartDepartmentBadgeGlobal {
  display: inline-flex;
  align-items: center;
  gap: var(--onity-space-s);
  padding: calc(var(--onity-space-s) - var(--onity-space-xs)) var(--onity-space-m);
  font-size: var(--onity-font-size-sm);
  background-color: var(--onity-color-bg);
  color: var(--onity-color-text);
  border-radius: var(--onity-radius-xs);
  font-weight: var(--onity-font-weight-medium);
}

.chartPeriodsTitle {
  font-size: var(--onity-font-size-sm);
  font-weight: var(--onity-font-weight-medium);
  color: var(--onity-color-text);
  margin-bottom: var(--onity-space-m);
}

.chartPeriodsList {
  display: flex;
  flex-wrap: wrap;
  gap: var(--onity-space-s);
}

.chartPeriodItem {
  display: flex;
  align-items: center;
  background-color: var(--onity-color-bg);
  border: 1px solid var(--onity-color-border);
  color: var(--onity-color-text);
  font-size: var(--onity-font-size-sm);
  font-weight: var(--onity-font-weight-medium);
  padding: var(--onity-space-s) var(--onity-space-m);
  border-radius: var(--onity-radius-m);
  transition: background-color var(--onity-transition-fast);
}

.chartPeriodItem:hover {
  background-color: var(--onity-color-border);
}

.chartPeriodText {
  font-weight: var(--onity-font-weight-semibold);
}

.chartPeriodButton {
  margin-left: var(--onity-space-s);
  padding: var(--onity-space-xs);
  border-radius: var(--onity-radius-xs);
  transition: all var(--onity-transition-fast);
  border: none;
  background: transparent;
  cursor: pointer;
}

.chartPeriodButtonEdit {
  color: var(--onity-color-primary);
}

.chartPeriodButtonEdit:hover {
  color: var(--onity-color-primary-hover);
  background-color: color-mix(in oklab, var(--onity-color-primary) 15%, var(--onity-color-surface));
}

.chartPeriodButtonDelete {
  margin-left: var(--onity-space-xs);
  color: var(--onity-color-error);
}

.chartPeriodButtonDelete:hover {
  color: color-mix(in oklab, var(--onity-color-error) 90%, black);
  background-color: color-mix(in oklab, var(--onity-color-error) 15%, var(--onity-color-surface));
}

.chartPeriodButtonIcon {
  width: 0.875rem;
  height: 0.875rem;
}

.loadingContainer {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
}

.loadingText {
  color: var(--onity-text-med);
}

.errorContainer {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--onity-color-error);
}

.restrictedContainer {
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--onity-color-error);
}

/* Modal Styles */
.modalOverlay {
  position: fixed;
  inset: 0;
  z-index: var(--onity-z-modal-backdrop);
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: rgba(0, 0, 0, 0.4);
}

.modalContainer {
  background-color: var(--onity-color-surface);
  border-radius: var(--onity-radius-m);
  box-shadow: var(--onity-elev-high);
  padding: var(--onity-space-l);
  max-width: 28rem;
  width: 100%;
}

.modalContainerLarge {
  max-width: 42rem;
}

.modalHeader {
  display: flex;
  align-items: center;
  margin-bottom: var(--onity-space-m);
}

.modalHeaderFlex {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--onity-space-l);
}

.modalIconContainer {
  flex-shrink: 0;
}

.modalTitle {
  font-size: var(--onity-font-size-lg);
  font-weight: var(--onity-font-weight-semibold);
  color: var(--onity-color-text);
}

.modalTitleLarge {
  font-size: var(--onity-type-h3-size);
}

.modalTitleContainer {
  margin-left: var(--onity-space-m);
}

.modalCloseButton {
  margin-left: auto;
  color: var(--onity-text-med);
  transition: color var(--onity-transition-fast);
  border: none;
  background: none;
  cursor: pointer;
}

.modalCloseButton:hover {
  color: var(--onity-color-text);
}

.modalBody {
  margin-bottom: var(--onity-space-l);
}

.modalText {
  font-size: var(--onity-font-size-sm);
  color: var(--onity-text-med);
  margin-bottom: var(--onity-space-m);
}

.modalInfoBox {
  background-color: var(--onity-color-bg);
  border-radius: var(--onity-radius-m);
  padding: var(--onity-space-m);
}

.modalInfoGrid {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: var(--onity-space-m);
  font-size: var(--onity-font-size-sm);
}

.modalInfoItem {
  display: flex;
  flex-direction: column;
}

.modalInfoLabel {
  font-weight: var(--onity-font-weight-medium);
  color: var(--onity-color-text);
}

.modalInfoValue {
  color: var(--onity-color-text);
}

.modalWarningBox {
  background-color: color-mix(in oklab, var(--onity-color-warning) 15%, var(--onity-color-surface));
  border: 1px solid color-mix(in oklab, var(--onity-color-warning) 30%, transparent);
  border-radius: var(--onity-radius-m);
  padding: var(--onity-space-m);
  margin-bottom: var(--onity-space-m);
}

.modalWarningText {
  font-size: var(--onity-font-size-sm);
  color: var(--onity-color-warning);
}

.modalForm {
  display: flex;
  flex-direction: column;
  gap: var(--onity-space-l);
}

.modalFormGrid {
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: var(--onity-space-m);
}

@media (min-width: 768px) {
  .modalFormGrid {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

.modalFormGrid2 {
  display: grid;
  grid-template-columns: repeat(1, minmax(0, 1fr));
  gap: var(--onity-space-m);
}

@media (min-width: 768px) {
  .modalFormGrid2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

.modalFormGroup {
  display: flex;
  flex-direction: column;
}

.modalFormLabel {
  display: block;
  font-size: var(--onity-font-size-sm);
  font-weight: var(--onity-font-weight-medium);
  color: var(--onity-color-text);
  margin-bottom: var(--onity-space-s);
}

.modalFormInput {
  width: 100%;
  border: 1px solid var(--onity-color-border);
  border-radius: var(--onity-radius-xs);
  padding: var(--onity-space-s) var(--onity-space-m);
  font-size: var(--onity-font-size-sm);
  background-color: var(--onity-color-surface);
  color: var(--onity-color-text);
  transition: border-color var(--onity-transition-fast), box-shadow var(--onity-transition-fast);
}

.modalFormInput:focus {
  outline: none;
  border-color: var(--onity-color-primary);
  box-shadow: 0 0 0 3px rgba(68, 84, 100, 0.15);
}

.modalFormSelect {
  width: 100%;
  border: 1px solid var(--onity-color-border);
  border-radius: var(--onity-radius-xs);
  padding: var(--onity-space-s) var(--onity-space-m);
  font-size: var(--onity-font-size-sm);
  background-color: var(--onity-color-surface);
  color: var(--onity-color-text);
  transition: border-color var(--onity-transition-fast), box-shadow var(--onity-transition-fast);
}

.modalFormSelect:focus {
  outline: none;
  border-color: var(--onity-color-primary);
  box-shadow: 0 0 0 3px rgba(68, 84, 100, 0.15);
}

.modalActions {
  display: flex;
  gap: var(--onity-space-m);
  padding-top: var(--onity-space-m);
}

.modalButton {
  flex: 1;
  padding: var(--onity-space-s) var(--onity-space-m);
  border-radius: var(--onity-radius-xs);
  font-size: var(--onity-font-size-sm);
  font-weight: var(--onity-font-weight-medium);
  transition: all var(--onity-transition-fast);
  border: none;
  cursor: pointer;
}

.modalButtonSecondary {
  border: 1px solid var(--onity-color-border);
  color: var(--onity-color-text);
  background-color: var(--onity-color-surface);
}

.modalButtonSecondary:hover {
  background-color: var(--onity-color-bg);
}

.modalButtonPrimary {
  background-color: var(--onity-color-primary);
  color: var(--onity-color-primary-contrast);
}

.modalButtonPrimary:hover {
  background-color: var(--onity-color-primary-hover);
}

.modalButtonDanger {
  background-color: var(--onity-color-error);
  color: var(--onity-color-primary-contrast);
}

.modalButtonDanger:hover {
  background-color: color-mix(in oklab, var(--onity-color-error) 90%, black);
}

.modalButton:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.modalDisabledInput {
  border: 1px solid var(--onity-color-border);
  border-radius: var(--onity-radius-xs);
  padding: var(--onity-space-s) var(--onity-space-m);
  background-color: var(--onity-color-bg);
  color: var(--onity-text-med);
  font-size: var(--onity-font-size-sm);
}
